multipages-generator [![NPM version](https://badge.fury.io/js/multipages-generator.png)](http://badge.fury.io/js/multipages-generator)
======

[![NPM](https://nodei.co/npm/multipages-generator.png?downloads=true&stars=true)](https://nodei.co/npm/multipages-generator)

multipages-generator ï¼ˆMGï¼‰ ğŸ¤¡æ˜¯ä¸€ä¸ªåƒexpress-generatorä¸€æ ·å¿«é€Ÿç”Ÿæˆç½‘ç«™å¼€å‘è„šæ‰‹æ¶çš„npmæ¨¡å—ï¼Œå¯ä»¥å…¨å±€å®‰è£…ã€‚åªè¦ä¸€ä¸ªå‘½ä»¤å³å¯ç”Ÿæˆå¤šé¡µé¢çš„expresså·¥ç¨‹ï¼Œæ˜¯å¤šé¡µé¢webpackç¼–è¯‘çš„æœ€ä½³å®è·µæ¨¡æ¿ï¼Œæœ€é€‚åˆå¤šä¸ªç‹¬ç«‹çš„ç§»åŠ¨ç«¯h5é¡¹ç›®ï¼Œæœ‰å‡ ä¸ªç‰¹ç‚¹ï¼š

## é€‚åˆåœºæ™¯
å¦‚ç¾æŸšï¼Œæ·˜å®ï¼Œä»Šæ—¥å¤´æ¡ï¼Œå¾®ä¿¡å†…åˆ†äº«çš„ç­‰ç‹¬ç«‹çš„ï¼Œå°çš„h5ï¼Œå¯ä»¥æ˜¯å¹¿å‘Šï¼Œè¥é”€ï¼Œæ´»åŠ¨ï¼Œå±•ç¤ºé¡µï¼Œç§€è‚Œè‚‰ï¼Œå¥½ç©çš„h5ï¼Œå¦‚[è¿™äº›](http://www.ih5.cn/not-logged-in/template)ã€‚
è¿˜æœ‰æˆ‘ä»¬çš„ä¾‹å­ï¼š
[ç¾æŸšåƒé¸¡æ¸¸æˆ](https://uedkit.meiyou.com/annualmeeting/game/)

## ä¼˜åŠ¿æ˜¯ ä»€ä¹ˆï¼Ÿ
å®Œæ•´çš„h5è§£å†³æ–¹æ¡ˆï¼Œå¿«é€Ÿå¼€å‘ï¼Œè‡ªåŠ¨å®Œæˆæ€§èƒ½ä¼˜åŒ–ï¼ˆç›®å‰åªæ˜¯åŸºæœ¬åŠŸèƒ½ï¼Œæœªå®ŒæŒç»­ï¼Œåé¢æ”¯æŒ[google web æ€§èƒ½ä¼˜åŒ–](https://developers.google.com/web/fundamentals/performance/why-performance-matters/)

## ç‰¹ç‚¹

1. ä½¿ç”¨Node.jsï¼Œæ˜¯ä¸€ä¸ªJavasScriptçš„å…¨æ ˆçš„H5è§£å†³æ–¹æ¡ˆï¼Œå·¥ç¨‹å¯ç›´æ¥éƒ¨ç½²
2. é«˜æ•ˆç‡å¼€å‘ï¼Œæ”¯æŒä¸€é”®åˆ›å»ºæ¨¡å—ï¼ˆä¸šåŠ¡æ¨¡å—ï¼‰ã€ä¸€é”®åˆ›å»ºæ–°æ¨¡å—ã€ä¸€é”®ç¼–è¯‘å‘å¸ƒç­‰å¿«æ·å‘½ä»¤
3. å·¥ç¨‹ç»“æ„è‰¯å¥½åˆ’åˆ†ï¼Œç»“æ„æ¸…æ™°ï¼Œå¯ç»´æŠ¤ã€‚
4. æ”¯æŒdevelopment,productonç¯å¢ƒåŒºåˆ†
5. æ”¯æŒsassã€lessã€postcss
6. å¼€å‘ç¯å¢ƒCSSã€JSçƒ­ç¼–è¯‘
7. æ–‡ä»¶ä¸Šä¼ æ”¯æŒé˜¿é‡ŒOSSï¼Œä¸ƒç‰›äº‘ç­‰
8. ğŸ”¥ (æ–°) åŠ å…¥[æ‰‹æ·˜flexibleå¸ƒå±€æ–¹æ¡ˆ](https://www.w3cplus.com/mobile/lib-flexible-for-html5-layout.html)ï¼Œé€‚é…ä¸åŒå°ºå¯¸å’ŒDPIçš„å±å¹•
9. æ”¯æŒpm2é›†ç¾¤å¯åŠ¨


## Document
* [å…¨å±€å®‰è£…](#å…¨å±€å®‰è£…)
* [åˆ›å»ºä¸€ä¸ªå·¥ç¨‹](#åˆ›å»ºä¸€ä¸ªå·¥ç¨‹)
* [æŒ‡ä»¤ä»‹ç»](#æŒ‡ä»¤ä»‹ç»)
* [æ–°å»ºä¸€ä¸ªæ¨¡å—](#æ–°å»ºä¸€ä¸ªæ¨¡å—)
* [æŒ‡å®šæ¨¡å—å¯åŠ¨](#æŒ‡å®šæ¨¡å—å¯åŠ¨)
* [æŒ‡å®šæ¨¡å—ç¼–è¯‘](#æŒ‡å®šæ¨¡å—ç¼–è¯‘)
* [ä¸Šä¼ ](#ä¸Šä¼ )
    * [ä¸ƒç‰›äº‘CDN](#ä¸ƒç‰›äº‘cdn)
    * [é˜¿é‡Œäº‘OSS](#é˜¿é‡Œäº‘oss)
* [é…ç½®](#é…ç½®)
* [TodoList](#TodoList)

## å…¨å±€å®‰è£… âš™ï¸

### ç¯å¢ƒè¦æ±‚

nodeç¯å¢ƒï¼šnode.js 6.11.0

æ“ä½œç³»ç»Ÿï¼šæ”¯æŒ macï¼Œwindowsï¼Œcentos

### å…¨å±€å®‰è£…

```bash
npm install multipages-generator -g  //ç›®å‰æœ€æ–°ç‰ˆæœ¬ä¸º1.5.x
```

## åˆ›å»ºä¸€ä¸ªå·¥ç¨‹ ğŸ“½

```bash
meet init
```

```bash
C:\xxx\workspace>meet init
? Project name: h5-project
  __  __           _      ____ _     ___
 |  \/  | ___  ___| |_   / ___| |   |_ _|
 | |\/| |/ _ \/ _ \ __| | |   | |    | |
 | |  | |  __/  __/ |_  | |___| |___ | |
 |_|  |_|\___|\___|\__|  \____|_____|___|

   [Success] Project h5-project init finished, be pleasure to use ğŸ˜Š!

   Install dependencies:
     cd h5-project && npm install

   Run the app:
     meet start demo
   Or:
     pm2 start process.json

```

æ³¨æ„ï¼Œç”±äºnpmä¸èƒ½å­˜æ”¾å›¾ç‰‡ï¼Œæ•…demoä¸­ä½¿ç”¨ç½‘ç»œå›¾ç‰‡æ›¿ä»£ã€‚å¼€å‘ä¸­ç”¨ç›¸å¯¹è·¯å¾„å¼•ç”¨imagesä¸‹çš„å›¾ç‰‡

## æŒ‡ä»¤ä»‹ç»
æŸ¥çœ‹æŒ‡ä»¤å¸®åŠ© meet -help
```bash
C:\xxx\workspace>meet -help

  Usage: meet [command]

  Options:

    -v, --version                 output the version number
    -h, --help                    output usage information

  Commands:

    init                          initialize your project
    new [module]/[module]-[page]  generate a new module
    start [module]                start application in development mode
    build [module]                build a module using webpack
    upload                        upload dist files to CDN
    analyse                       analysis dist files size and percent
    git                           auto git commit and push

```
æ³¨æ„ï¼Œåˆ›å»ºæ¨¡å—ä½¿ç”¨meet new [module]ï¼Œå¦‚æœæ˜¯åœ¨è¯¥æ¨¡å—ä¸‹åˆ›å»ºå…¶ä»–é¡µé¢ï¼Œåˆ™ä½¿ç”¨meet new [module]-[page]ã€‚ä¸¾ä¾‹ï¼šåœ¨demoä¸‹åˆ›å»ºä¸€ä¸ªè¯¦æƒ…é¡µé¢detail.html ä½¿ç”¨ meet new demo-detail

## æ–°å»ºä¸€ä¸ªæ¨¡å—

meet new [module]/[module]-[page]

```bash
meet new game
```
å¾—åˆ°ä¸€ä¸ªæ–‡ä»¶ç»“æ„
```bash
game
 â”œâ”€images // ç”±äºæ²¡æœ‰æ–‡ä»¶ï¼Œå¯èƒ½ä¸ä¼šåˆ›å»ºï¼Œå¼€å‘è€…è‡ªè¡Œåˆ›å»ºimages
 â”œâ”€js
 | â”œâ”€index
 | | â”œâ”€business.js  // å…·ä½“ä¸šåŠ¡å±‚ï¼ˆå¯æ ¹æ®ä¸šåŠ¡å¤æ‚åº¦å†ç»†åˆ†ï¼‰
 | | â”œâ”€service.js   // æ•°æ®å¤„ç†å±‚
 | | â””â”€util.js      // å·¥å…·ç±»å‡½æ•°å±‚
 | â””â”€index.js       // ä¸»é€»è¾‘å±‚
 â”œâ”€styles
 | â””â”€index.css      // css
 â””â”€views
   â””â”€index.html     // htmlæºæ–‡ä»¶
```

## æŒ‡å®šæ¨¡å—å¯åŠ¨
### meet start [module]

```
meet start demo
```
å¯åŠ¨åä¼šå‡ºç°å¦‚ä¸‹æ˜¾ç¤ºï¼Œå¯ç‚¹å‡»ç›¸åº”çš„åœ°å€è®¿é—®
```
 âˆš Build done

[Tips] visit: http://localhost:8080/demo/
            : http://192.168.50.194:8080/demo/

```

### çƒ­ç¼–è¯‘

JSã€CSSæ”¯æŒçƒ­ç¼–è¯‘ï¼ŒHTMLéœ€è¦åˆ·æ–°

![image](http://oflt40zxf.bkt.clouddn.com/HRM.gif)

ç”Ÿæˆçš„htmlæ–‡ä»¶ä¸­æœ‰å¦‚ä¸‹ä¸¤å¤„æ ‡è®°ï¼Œç”¨æ¥çƒ­ç¼–è¯‘ç”¨ã€‚æ— éœ€æ‹…å¿ƒï¼Œç¼–è¯‘é˜¶æ®µä¼šåˆ é™¤ã€‚

```html
<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <% include ../head.html %>
  <title>demo</title>
  <!--@hot-reload, will auto remove after compiled-->
  <link rel="stylesheet" data-hr="hot-reload" href="/demo/styles/index.css">
</head>
<body>
  <div>å†…å®¹...</div>
  <!--@hot-reload, will auto remove after compiled-->
  <script type="text/javascript" data-hr="hot-reload" src="/common/js/hot-reload.js"></script>
</body>
</html>
```

## æŒ‡å®šæ¨¡å—ç¼–è¯‘

### meet build [demo]

```bash
meet build demo
```

```bash
C:xxx\workspace\h5>meet build demo

> mg-template@1.0.0 build C:\meetyou\workspace\test\mg-workspace\h5
> cross-env NODE_ENV=production node build/commands/build.js "demo"

Delete dist directory!
  â£¾ Building...
  â£½ lasted 1 seconds. HTMLå»é™¤å¼€å‘ç¯å¢ƒhotReloadä»£ç : ..\server\views\prod\demo\index.html
Hash: 2a217fb45f03fb354254
Version: webpack 4.17.2
Time: 1687ms
Built at: 2018-09-06 19:50:40
                               Asset      Size  Chunks             Chunk Names
                  index.12969e6e.css  4.71 KiB       0  [emitted]  index
                   index.080a1e3d.js  1.01 KiB       0  [emitted]  index
..\server\views\prod\demo\index.html  3.74 KiB          [emitted]
Entrypoint index = index.12969e6e.css index.080a1e3d.js

Upload dist files to Qiniu CDNï¼š
Webpack Bundle Analyzer is started at http://127.0.0.1:8888
Use Ctrl+C to close it
[Success]: ä¸Šä¼ æ–‡ä»¶è‡³ä¸ƒç‰›äº‘CDNæˆåŠŸï¼æ–‡ä»¶åœ°å€:http://oflt40zxf.bkt.clouddn.com/index.080a1e3d.js
[Success]: ä¸Šä¼ æ–‡ä»¶è‡³ä¸ƒç‰›äº‘CDNæˆåŠŸï¼æ–‡ä»¶åœ°å€:http://oflt40zxf.bkt.clouddn.com/index.12969e6e.css
[Success]: ä¸Šä¼ å®Œæ¯• ğŸ˜Š!
Use Ctrl+C to close it

```
ç¼–è¯‘ååˆ†æä¼šè°ƒç”¨webpackæ’ä»¶æ˜¾ç¤ºæ¯ä¸ªjsï¼Œcssçš„ä¾èµ–æƒ…å†µ

![image](http://oflt40zxf.bkt.clouddn.com/build.png)

### meet analyse
é€šè¿‡meet analyse æŸ¥çœ‹å æ¯”

![image](http://oflt40zxf.bkt.clouddn.com/chart.png)

## ä¸Šä¼ 

### meet upload
ä¸Šä¼ çš„æ˜¯distæ–‡ä»¶å¤¹ä¸­çš„æ–‡ä»¶ï¼Œé…ç½®é˜¿é‡Œäº‘ï¼Œä¸ƒç‰›äº‘è¯·çœ‹mg.config.js
```bash
meet upload
```

## é…ç½®
### mg.config.js
MGç›®å‰æ”¯æŒå‘å¸ƒæ—¶è‡ªåŠ¨,æ”¯æŒé˜¿é‡ŒOSSã€ä¸ƒç‰›äº‘

mg.config.js ä¸­æœ‰å¦‚ä¸‹é…ç½®

```
module.exports = {

    // å¯åŠ¨çš„å®¢æˆ·ç«¯æœåŠ¡å™¨ç«¯å£
    clientPort: '8080',

    // æœåŠ¡ç«¯æœåŠ¡å™¨ç«¯å£
    server: {
        port: '8090',
    },

    // ä¸Šä¼ ç›¸å…³é…ç½®
    upload: {
        cdn: '//oflt40zxf.bkt.clouddn.com/',
        projectPrefix: 'nodejs-common',

        // å¦‚æœæ˜¯é˜¿é‡Œäº‘ï¼Œåˆ™aliconfigé…ç½®ä¸€ä¸ªç©ºå¯¹è±¡ï¼Œç›®å‰é‡‡ç”¨.aliossacess æ–‡ä»¶é…ç½®çš„æ–¹å¼
        // aliconfig: {
        //
        // },
        // ä¸ƒç‰›äº‘

        qconfig: {
            ACCESS_KEY: 'ei1uOdGpVLliA7kb50sLcV9i4wfYLPwt5v0shU10',
            SECRET_KEY: '-pFFIY-ew35Exyfcd67Sbaw40k15ah3UfZTFWFKF',
            bucket:'hotshots-image',
            origin:'http://oflt40zxf.bkt.clouddn.com'
        },

        // æ˜¯å¦ç¼–è¯‘åè‡ªåŠ¨ä¸Šä¼ 
        autoUpload: true

    }
};

```

## Todo List
1. æ€§èƒ½ä¼˜åŒ–åŠ å…¥æ‰‹æ·˜çš„ä¸€äº›æ–¹æ¡ˆï¼Œä»¥åŠgoogleçš„æ€§èƒ½ä¼˜åŒ–å†…å®¹
2. æœåŠ¡ç«¯å¢åŠ mongodbï¼Œmysqlï¼Œredisç­‰å¯é€‰é…ç½®

## Contribution

[å´ä¿Šå·](https://github.com/wujunchuan)

æ„Ÿè°¢ä¿Šå·æä¾›çš„çƒ­æ›´æ–°æ–¹æ¡ˆçš„å»ºè®®ï¼Œä»¥åŠå¯¹é¡¹ç›®æŸäº›ç»†èŠ‚çš„æ”¹è¿›

## é…å¥—éƒ¨ç½²æ–¹æ¡ˆè¯·å‚è€ƒ
[30åˆ†é’Ÿå¿«é€Ÿéƒ¨ç½²åˆ°äº‘æœåŠ¡å™¨ä¸Š](http://medium.yintage.com/?p=248)


## License

The MIT License è¯·è‡ªç”±äº«å—å¼€æºã€‚
